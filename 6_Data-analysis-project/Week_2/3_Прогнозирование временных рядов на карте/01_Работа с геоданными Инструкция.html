<meta charset="utf-8"/>
<co-content>
 <p>
  В этом задании вам предстоит научиться работать с географическими данными. В Питоне есть огромное количество библиотек, позволяющих эти данные обрабатывать и визуализировать; выберите ту, которая вам больше понравится. Вам может помочь руководство kaggle по работе с картами: "
  <a href="http://blog.kaggle.com/2016/11/30/seventeen-ways-to-map-data-in-kaggle-kernels/">
   Семнадцать способов рисовать данные на картах
  </a>
  ". Смотрите также:
 </p>
 <ul bullettype="bullets">
  <li>
   <p>
    модуль
    <a href="http://matplotlib.org/basemap/">
     basemap
    </a>
    (
    <a href="https://www.machinalis.com/blog/embedding-interactive-maps-into-an-ipython-nb/">
     пример
    </a>
    ,
    <a href="https://github.com/jakevdp/PythonDataScienceHandbook/blob/master/notebooks/04.13-Geographic-Data-With-Basemap.ipynb">
     ещё пример
    </a>
    )
   </p>
  </li>
  <li>
   <p>
    плагин
    <a href="https://github.com/pbugnion/gmaps">
     gmaps
    </a>
   </p>
  </li>
  <li>
   <p>
    виджет
    <a href="https://github.com/ellisonbg/ipyleaflet">
     ipyleaflet
    </a>
    (крайне минималистичный
    <a href="https://github.com/ellisonbg/ipyleaflet/blob/master/examples/MapContainer.ipynb">
     пример
    </a>
    )
   </p>
  </li>
  <li>
   <p>
    модуль
    <a href="https://github.com/python-visualization/folium">
     folium
    </a>
   </p>
  </li>
 </ul>
 <p>
  Поскольку мы агрегировали данные по равномерной сетке, можно ожидать, что существенное количество ячеек окажется в районах города, где вызов такси невозможен (реки, заливы, острова, парки). Теоретически ряды, соответствующие таким ячейка, должны состоять из одних нулей, но на практике это может быть не так: устройства, определяющие координаты автомобилей в момент начала поездки, несовершенны и могут ошибаться, показывая, например, что такси находится в середине реки. Чтобы правильно отобрать ячейки, вам понадобится визуализировать их границы на карте и отфильтровать те, из которых поездки на такси невозможны.
 </p>
 <p>
 </p>
 <p>
  Чтобы сдать задание, выполните следующую последовательность действий.
 </p>
 <ol bullettype="numbers">
  <li>
   <p>
    Загрузите агрегированные данные о поездках в мае 2016. Просуммируйте общее количество поездок такси из каждой географической зоны и посчитайте количество ячеек, из которых в мае не было совершено ни одной поездки.
   </p>
  </li>
  <li>
   <p>
    Нарисуйте статическую карту Нью-Йорка. Поставьте на карте точку там, где находится Эмпайр-Стейт-Билдинг.
   </p>
  </li>
  <li>
   <p>
    Поверх статической карты Нью-Йорка визуализируйте данные о поездках из каждой ячейки так, чтобы цветовая шкала, в которую вы окрашиваете каждую ячейку, показывала суммарное количество поездок такси из неё.
   </p>
  </li>
  <li>
   <p>
    Вставьте интерактивную карту Нью-Йорка — такую, которую можно прокручивать и увеличивать. Поставьте метку там, где находится статуя свободы.
   </p>
  </li>
  <li>
   <p>
    Нарисуйте на интерактивной карте Нью-Йорка ячейки так, чтобы их цвет показывал среднее за месяц количество поездок такси в час из этой зоны.
   </p>
  </li>
  <li>
   <p>
    Чтобы не выбирать из всех 2500 ячеек вручную, отфильтруйте ячейки, из которых в мае совершается в среднем меньше 5 поездок в час. Посчитайте количество оставшихся. Проверьте на карте, что среди этих ячеек нет таких, из которых поездки на самом деле невозможны.
   </p>
  </li>
  <li>
   <p>
    Сохраните ноутбук в формате html, запакуйте ipynb и html в один архив и загрузите его в форму (html облегчит задачу проверки вашим рецензентам — в ipynb динамические карты часто не сохраняются, а для выполнения кода рецензентам придётся устанавливать все библиотеки).
   </p>
  </li>
 </ol>
</co-content>
<h3 level="3">
 Review criteria
</h3>
<co-content>
 <p>
  Задание будет оцениваться по факту выполнения каждого из его пунктов в приложенном ноутбуке.
 </p>
</co-content>
<style>
 body {
    padding: 50px 85px 50px 85px;
}

table th, table td {
    border: 1px solid #e0e0e0;
    padding: 5px 20px;
    text-align: left;
}
input {
    margin: 10px;
}
}
th {
    font-weight: bold;
}
td, th {
    display: table-cell;
    vertical-align: inherit;
}
img {
    height: auto;
    max-width: 100%;
}
pre {
    display: block;
    margin: 20px;
    background: #424242;
    color: #fff;
    font-size: 13px;
    white-space: pre-wrap;
    padding: 9.5px;
    margin: 0 0 10px;
    border: 1px solid #ccc;
}
</style>
<script async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
</script>
<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$$','$$'], ['$','$'] ],
      displayMath: [ ["\\[","\\]"] ],
      processEscapes: true
    }
  });
</script>
